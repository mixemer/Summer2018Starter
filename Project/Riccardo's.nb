(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframDesktop 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       161,          7]
NotebookDataLength[     12092,        293]
NotebookOptionsPosition[     11278,        272]
NotebookOutlinePosition[     11633,        288]
CellTagsIndexPosition[     11590,        285]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{"ClearAll", "[", 
  RowBox[{"pointRange", ",", " ", "rescale"}], "]"}], "\n", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"rescale", ",", " ", "revertRescale"}], "}"}], ",", " ", 
   "Listable"}], "]"}], "\n", 
 RowBox[{
  RowBox[{"$minscale", " ", "=", " ", "0.2"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$maxscale", " ", "=", " ", "8000"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"function", " ", "=", " ", 
   RowBox[{"Function", "[", 
    RowBox[{"#", "^", "6"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"rescale", "[", 
   RowBox[{"x_", ",", " ", 
    RowBox[{"min_:", " ", "$minscale"}], ",", " ", 
    RowBox[{"max_:", " ", "$maxscale"}]}], "]"}], " ", ":=", " ", "\n", " ", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"x", " ", "-", " ", "min"}], ")"}], " ", "/", " ", 
   RowBox[{"(", 
    RowBox[{"max", " ", "-", " ", "min"}], ")"}]}]}], "\n", 
 RowBox[{
  RowBox[{"revertRescale", "[", 
   RowBox[{"x_", ",", " ", 
    RowBox[{"min_:", " ", "$minscale"}], ",", " ", 
    RowBox[{"max_:", " ", "$maxscale"}]}], "]"}], " ", ":=", " ", "\n", " ", 
  RowBox[{"min", " ", "+", " ", 
   RowBox[{"x", " ", "*", " ", 
    RowBox[{"(", 
     RowBox[{"max", " ", "-", " ", "min"}], ")"}]}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pointRange", "[", 
    RowBox[{"zmin_", ",", " ", "zmax_", ",", " ", 
     RowBox[{"length_:", " ", "10"}]}], "]"}], "  ", ":=", " ", "\n", " ", 
   RowBox[{"Table", "[", "\n", "  ", 
    RowBox[{
     RowBox[{"rescale", "[", "x", "]"}], ",", " ", "\n", "  ", 
     RowBox[{"{", 
      RowBox[{"x", ",", " ", "zmin", ",", " ", "zmax", ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"zmax", " ", "-", " ", "zmin"}], ")"}], " ", "/", " ", 
        RowBox[{"(", 
         RowBox[{"length", " ", "-", " ", "1"}], ")"}]}]}], "}"}]}], "\n", 
    "  ", "]"}]}], "\n", "  "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"test", "[", 
    RowBox[{"zmin_", ",", " ", "zmax_", ",", " ", 
     RowBox[{"length_:", " ", "10"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"Column", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "\n", "    ", 
       RowBox[{
        RowBox[{"ListPlot", "[", 
         RowBox[{
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{"#", ",", " ", 
               RowBox[{"function", "[", "#", "]"}]}], "}"}], " ", "&"}], ",", 
            " ", 
            RowBox[{"pointRange", "[", 
             RowBox[{"zmin", ",", " ", "zmax", ",", " ", "length"}], "]"}]}], 
           "]"}], ",", " ", "\n", "     ", 
          RowBox[{"PlotRange", " ", "->", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", " ", "1"}], "}"}], ",", " ", 
             RowBox[{"{", 
              RowBox[{"0", ",", " ", "1"}], "}"}]}], "}"}]}]}], "]"}], ",", 
        "\n", "    ", 
        RowBox[{"ListPlot", "[", "\n", "     ", 
         RowBox[{
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{"#", ",", " ", 
               RowBox[{"function", "[", "#", "]"}]}], "}"}], " ", "&"}], ",", 
            " ", "\n", "      ", 
            RowBox[{"pointRange", "[", 
             RowBox[{
             "$minscale", ",", " ", "$maxscale", " ", ",", " ", "length"}], 
             "]"}]}], "]"}], ",", " ", "\n", "     ", 
          RowBox[{"PlotRange", " ", "->", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", " ", "1"}], "}"}], ",", " ", 
             RowBox[{"{", 
              RowBox[{"0", ",", " ", "1"}], "}"}]}], "}"}]}]}], "]"}]}], "\n",
        "    ", "}"}], ",", " ", 
      RowBox[{"{", "\n", "    ", 
       RowBox[{
        RowBox[{"Histogram", " ", "@", " ", 
         RowBox[{"Map", "[", 
          RowBox[{"function", ",", " ", 
           RowBox[{"pointRange", "[", 
            RowBox[{"zmin", ",", " ", "zmax", ",", " ", "length"}], "]"}]}], 
          "]"}]}], ",", "\n", "    ", 
        RowBox[{"Histogram", " ", "@", " ", "\n", "     ", 
         RowBox[{"Map", "[", 
          RowBox[{"function", ",", " ", 
           RowBox[{"pointRange", "[", 
            RowBox[{
            "$minscale", ",", " ", "$maxscale", " ", ",", " ", "length"}], 
            "]"}]}], "]"}]}]}], "\n", "    ", "}"}]}], "\n", "   ", "}"}], 
    "]"}]}], "\n", "   ", "\n", "   "}], "\n", 
 RowBox[{
  RowBox[{"range", " ", "=", " ", 
   RowBox[{"pointRange", "[", 
    RowBox[{"7000", ",", " ", "8000", ",", " ", "10"}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"LINEAR", " ", "we", " ", 
    RowBox[{"don", "'"}], "t", " ", "use", " ", "them"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"rescaled", " ", "=", " ", 
   RowBox[{"Map", "[", 
    RowBox[{"function", ",", " ", 
     RowBox[{"rescale", "[", 
      RowBox[{"range", ",", " ", 
       RowBox[{"Min", "[", "range", "]"}], ",", " ", 
       RowBox[{"Max", "[", "range", "]"}]}], "]"}]}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"ML", " ", "VALUES"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"reverted", " ", "=", " ", 
   RowBox[{"revertRescale", " ", "@", " ", 
    RowBox[{"revertRescale", "[", 
     RowBox[{"rescaled", ",", " ", 
      RowBox[{"Min", "[", "range", "]"}], ",", " ", 
      RowBox[{"Max", "[", "range", "]"}]}], "]"}]}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"what", " ", "you", " ", "store", " ", "in", " ", "values"}], " ", 
   "*)"}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"MLValues", " ", "=", " ", 
   RowBox[{"rescale", "[", 
    RowBox[{"reverted", ",", " ", 
     RowBox[{"Min", "[", "reverted", "]"}], ",", " ", 
     RowBox[{"Max", "[", "reverted", "]"}]}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"ML", " ", "VALUES"}], " ", "*)"}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"MLResults", " ", "=", " ", 
   RowBox[{"revertRescale", "[", 
    RowBox[{"MLValues", ",", " ", 
     RowBox[{"Min", "[", "reverted", "]"}], ",", " ", 
     RowBox[{"Max", "[", "reverted", "]"}]}], "]"}]}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"Actual", " ", "results"}], " ", "*)"}]}], "\n"}], "Code",
 CellChangeTimes->{{3.739977042590859*^9, 3.739977097212599*^9}, {
   3.7399771822823753`*^9, 3.739977182734867*^9}, {3.739977214727607*^9, 
   3.739977359083639*^9}, {3.7399773931832952`*^9, 3.73997748360783*^9}, {
   3.7399775341005173`*^9, 3.739977644758669*^9}, {3.739977676722829*^9, 
   3.739977812083439*^9}, {3.739977845339617*^9, 3.739977971300939*^9}, {
   3.7399780112460613`*^9, 3.7399781853880997`*^9}, {3.7399782932328444`*^9, 
   3.739978306060728*^9}, {3.7399783490208178`*^9, 3.739978447244165*^9}, 
   3.7399786117655993`*^9},ExpressionUUID->"275e7011-0338-462f-b49b-\
602b9e236b0a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.874996874921873`", ",", "0.8888861110416649`", ",", 
   "0.9027753471614568`", ",", "0.9166645832812486`", ",", 
   "0.9305538194010405`", ",", "0.9444430555208324`", ",", 
   "0.9583322916406243`", ",", "0.9722215277604161`", ",", 
   "0.986110763880208`", ",", "0.9999999999999999`"}], "}"}]], "Output",
 CellChangeTimes->{{3.739977688928321*^9, 3.7399777019861403`*^9}, 
   3.739977776298753*^9, 3.7399778126853857`*^9, 3.7399779546702137`*^9, 
   3.739978092054965*^9, {3.739978129264413*^9, 3.73997815108853*^9}, 
   3.739978192828961*^9, {3.739978294588479*^9, 3.7399783026284857`*^9}, {
   3.739978339221079*^9, 3.739978381570949*^9}, 3.739978436669134*^9},
 CellLabel->
  "Out[833]=",ExpressionUUID->"0646a9f1-6fff-486b-b097-cb9e56df2db8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.`", ",", "1.8816764231590008`*^-6", ",", "0.00012042729108217315`", ",", 
   "0.001371742112482846`", ",", "0.007707346629258989`", ",", 
   "0.029401194111858243`", ",", "0.08779149519890286`", ",", 
   "0.2213773495082241`", ",", "0.4932701842725722`", ",", "1.`"}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.739977688928321*^9, 3.7399777019861403`*^9}, 
   3.739977776298753*^9, 3.7399778126853857`*^9, 3.7399779546702137`*^9, 
   3.739978092054965*^9, {3.739978129264413*^9, 3.73997815108853*^9}, 
   3.739978192828961*^9, {3.739978294588479*^9, 3.7399783026284857`*^9}, {
   3.739978339221079*^9, 3.739978381570949*^9}, 3.739978436680827*^9},
 CellLabel->
  "Out[834]=",ExpressionUUID->"5cee0e9e-612c-41c8-8951-72e1838f5a18"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "6999.999999999999`", ",", "7000.001881676422`", ",", "7000.120427291081`", 
   ",", "7001.371742112482`", ",", "7007.707346629259`", ",", 
   "7029.401194111858`", ",", "7087.791495198901`", ",", "7221.377349508223`",
    ",", "7493.270184272572`", ",", "7999.999999999999`"}], "}"}]], "Output",
 CellChangeTimes->{{3.739977688928321*^9, 3.7399777019861403`*^9}, 
   3.739977776298753*^9, 3.7399778126853857`*^9, 3.7399779546702137`*^9, 
   3.739978092054965*^9, {3.739978129264413*^9, 3.73997815108853*^9}, 
   3.739978192828961*^9, {3.739978294588479*^9, 3.7399783026284857`*^9}, {
   3.739978339221079*^9, 3.739978381570949*^9}, 3.7399784366914473`*^9},
 CellLabel->
  "Out[835]=",ExpressionUUID->"4ec86d38-e00d-4e2d-884e-32e0f6302525"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.`", ",", "1.8816764231814887`*^-6", ",", "0.00012042729108179628`", ",", 
   "0.0013717421124829344`", ",", "0.007707346629259519`", ",", 
   "0.029401194111858785`", ",", "0.08779149519890234`", ",", 
   "0.22137734950822416`", ",", "0.4932701842725728`", ",", "1.`"}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.739977688928321*^9, 3.7399777019861403`*^9}, 
   3.739977776298753*^9, 3.7399778126853857`*^9, 3.7399779546702137`*^9, 
   3.739978092054965*^9, {3.739978129264413*^9, 3.73997815108853*^9}, 
   3.739978192828961*^9, {3.739978294588479*^9, 3.7399783026284857`*^9}, {
   3.739978339221079*^9, 3.739978381570949*^9}, 3.739978436697537*^9},
 CellLabel->
  "Out[836]=",ExpressionUUID->"327147db-2bcf-414d-af6f-6a11f3f9c774"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "6999.999999999999`", ",", "7000.001881676422`", ",", "7000.120427291081`", 
   ",", "7001.371742112482`", ",", "7007.707346629259`", ",", 
   "7029.401194111858`", ",", "7087.791495198901`", ",", "7221.377349508223`",
    ",", "7493.270184272572`", ",", "7999.999999999999`"}], "}"}]], "Output",
 CellChangeTimes->{{3.739977688928321*^9, 3.7399777019861403`*^9}, 
   3.739977776298753*^9, 3.7399778126853857`*^9, 3.7399779546702137`*^9, 
   3.739978092054965*^9, {3.739978129264413*^9, 3.73997815108853*^9}, 
   3.739978192828961*^9, {3.739978294588479*^9, 3.7399783026284857`*^9}, {
   3.739978339221079*^9, 3.739978381570949*^9}, 3.7399784367088003`*^9},
 CellLabel->
  "Out[837]=",ExpressionUUID->"3502a0f1-6e2c-4c56-ba74-e3d13848428c"]
}, Open  ]]
},
WindowSize->{1181, 744},
WindowMargins->{{20, Automatic}, {Automatic, 44}},
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 7, \
2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[583, 22, 6754, 169, 756, "Code",ExpressionUUID->"275e7011-0338-462f-b49b-602b9e236b0a"],
Cell[7340, 193, 792, 14, 34, "Output",ExpressionUUID->"0646a9f1-6fff-486b-b097-cb9e56df2db8"],
Cell[8135, 209, 776, 14, 37, "Output",ExpressionUUID->"5cee0e9e-612c-41c8-8951-72e1838f5a18"],
Cell[8914, 225, 782, 13, 34, "Output",ExpressionUUID->"4ec86d38-e00d-4e2d-884e-32e0f6302525"],
Cell[9699, 240, 778, 14, 37, "Output",ExpressionUUID->"327147db-2bcf-414d-af6f-6a11f3f9c774"],
Cell[10480, 256, 782, 13, 34, "Output",ExpressionUUID->"3502a0f1-6e2c-4c56-ba74-e3d13848428c"]
}, Open  ]]
}
]
*)

